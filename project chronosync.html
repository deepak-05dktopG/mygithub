<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<style>
    ol {
        font-family: Georgia, serif;
        margin: 0px 20px 0px 0px;
    }

    #inputtext {
        width: 500px;
        height: 36px;
    }

    marquee {
        font-size: ;
    }

    #targetdatetime1 {
        font-size: 12px;
    }

    #addbtn {
        width: 100px;
    }

    @media screen and (max-width: 600px) {
        marquee {
            font-size: small;
            color: aqua;
        }

        #inputtext {
            width: 260px;
            height: 36px;
        }

        #targetdatetime1 {
            width: 80px;
        }

        #addbtn {
            width: 100px;
        }
    }
</style>

<body class="">
    <div class="container mt-1 d-flex justify-content-center" style="height:px;">
        <div id="floating" class="form-floating">
            <input class="form-control" style="height: fit-content;" type="text" id="inputtext" placeholder="" required>
            <label for="inputtext" class="w-100 ">
                <marquee class="text-danger" behavior="" direction="">Enter your goal and also set target date.....
                </marquee>
            </label>
        </div>
        <div id="targetdatetime1" class=" d-flex flex-column justify-content-center " ">
            <div class=" text-dark text-center ">Target Date</div>
            <input type="date" class="" id="targetdate">
        </div>
        <button type="button" class="btn  btn-outline-success ms-2" id="addbtn"><b>Add</b></button>
        <p id="result"></p>
    </div>
    <ol class="" id="todolist"></ol>

    <script>
        //rough
        let negativeNumber = -15;
        let len = String(negativeNumber).length
        let positiveNumber = Math.abs(negativeNumber);
        console.log(positiveNumber); // Output: 5
        console.log(len)
        //get element from the html************ 
        const inputtxt = document.getElementById("inputtext");
        const addbtn = document.getElementById("addbtn");
        const todolist = document.getElementById("todolist");
        const targetdate = document.getElementById("targetdate");
        const targettime = document.getElementById("targettime");
        const targetdatetime1 = document.getElementById("targetdatetime1");

        const d = new Date();
        //eventlistener for addbtn
        addbtn.addEventListener("click", function () {
            //setting target date properly******
            const text = inputtxt.value;
            const targetdate1 = targetdate.value;

            const [year, month, day] = targetdate1.split('-');
            const targetdate2 = day + "-" + month + "-" + year;

            //what if the input box has a value******************
            if (text) {
                //create tags in js***********************************
                inputtxt.classList.remove("is-invalid");
                const oneitem = document.createElement("div");
                const todoitem = document.createElement("li");
                const todop = document.createElement("span");
                const todop1 = document.createElement("span");
                const deleteButton = document.createElement('span');
                const donebtn = document.createElement('button');
                const datehead = document.createElement("span");
                const datesection = document.createElement("span");
                const datesection1 = document.createElement("span");
                const datesection3 = document.createElement("span");
                const rightsection = document.createElement("div");
                datehead.style.marginTop = "2px"
                const dd = d.getDate();
                const m = ('0' + (d.getMonth() + 1)).slice(-2);
                const y = (d.getFullYear());
                datesection1.innerHTML = "<b>Added:</b> " + dd + "-" + m + "-" + y;
                const sdate = (day - dd);
                const smonth = (month - m);
                const syear = (year - y);
                //eventlistener for donebtn**************************
                donebtn.addEventListener("click", function () {
                    //if condition for donebtn 
                    if (donebtn.innerText == "Done") {
                        const d = new Date();
                        todop1.style.display = "flex";
                        todop1.style.justifyContent = "center";
                        donebtn.innerText = "NotDone";
                        todoitem.classList.toggle("done");
                        todoitem.style.textDecoration = "line-through";
                        todoitem.style.textDecorationThickness = "4px"
                        todoitem.style.textDecorationColor = "red";
                        todoitem.style.margin = "10px 0px 0px 0px";

                        let ddd = d.getDate();
                        let mm = ('0' + (d.getMonth() + 1)).slice(-2);
                        let yy = (d.getFullYear());



                        datesection.innerHTML = "<b>Done:</b> " + ddd + "-" + mm + "-" + yy;
                        let subdate1 = (day - ddd)
                        let submonth1 = (month - mm)
                        let subyear1 = (year - yy)
                        let subdate = Math.abs(subdate1);
                        let submonth = Math.abs(submonth1);
                        let subyear = Math.abs(subyear1);

                        function beforestyle() {
                            todop1.style.color = "yellow";
                        }
                        function afterstyle() {
                            todop1.style.color = "red";
                        }

                        const completebefore = subdate + "-" + submonth + "-" + subyear;

                        //main purpose of project,synchronize the date with task*****************************************************************************************************
                        if ((year >= yy)) {
                            if (year == yy) {
                                todop1.innerHTML = "You complete " + submonth + " month " + subdate + " day before";
                                beforestyle()

                                if ((day == ddd) && (year == yy)) {
                                    todop1.innerHTML = "You complete " + submonth + " month before";
                                    beforestyle()

                                }
                                if ((month == mm) && (year == yy)) {
                                    todop1.innerHTML = "You complete " + subdate + " day before";
                                    beforestyle()
                                }
                            }
                            if (month >= mm) {
                                if (month == mm) {
                                    todop1.innerHTML = "You complete " + subyear + " year " + subdate + " day before";
                                    beforestyle()

                                    if ((month == mm) && (year == yy)) {
                                        todop1.innerHTML = "You complete " + subdate + " day before";
                                        beforestyle()

                                    }
                                    if ((month == mm) && (day == ddd)) {
                                        todop1.innerHTML = "You complete " + subyear + " year before";
                                        beforestyle()

                                    }

                                }
                                if (day >= ddd) {
                                    if (day == ddd) {
                                        todop1.innerHTML = "You complete " + subyear + " year " + submonth + " month before";
                                        beforestyle()

                                        if ((day == ddd) && (year == yy)) {
                                            todop1.innerHTML = "You complete " + submonth + " month before";
                                            beforestyle()

                                        }
                                        if ((month == mm) && (day == ddd)) {
                                            todop1.innerHTML = "You complete " + subyear + " year before";
                                            beforestyle()

                                        }
                                    }
                                }
                            }
                        }
                        if ((year == yy) && (month == mm) && (day == ddd)) {
                            todop1.innerHTML = "You complete your target day";
                            beforestyle()

                        }
                        if ((year < yy)) {
                            if (year == yy) {
                                todop1.innerHTML = "You complete " + submonth + " month " + subdate + " day after";
                                afterstyle()


                                if ((day == ddd) && (year == yy)) {
                                    todop1.innerHTML = "You complete " + submonth + " month after";
                                    afterstyle()

                                }
                                if ((month == mm) && (year == yy)) {
                                    todop1.innerHTML = "You complete " + subdate + " day after";
                                    afterstyle()

                                }
                            }
                            if (month <= mm) {
                                if (month == mm) {
                                    todop1.innerHTML = "You complete " + subyear + " year " + subdate + " day after";
                                    afterstyle()

                                    if ((month == mm) && (year == yy)) {
                                        todop1.innerHTML = "You complete " + subdate + " day after";
                                        afterstyle()

                                    }
                                    if ((month == mm) && (day == ddd)) {
                                        todop1.innerHTML = "You complete " + subyear + " year after";
                                        afterstyle()

                                    }

                                }
                                if (day < ddd) {
                                    if (day == ddd) {
                                        todop1.innerHTML = "You complete " + subyear + " year " + submonth + " month after";
                                        afterstyle()

                                        if ((day == ddd) && (year == yy)) {
                                            todop1.innerHTML = "You complete " + submonth + " month after";
                                            afterstyle()

                                        }
                                        if ((month == mm) && (day == ddd)) {
                                            todop1.innerHTML = "You complete " + subyear + " year after";
                                            afterstyle()

                                        }
                                    }
                                }
                            }
                        }



                        if ((!day) && (!month) && (!year)) {
                            todop1.innerHTML = "You didn't enter the proper target date!!!"
                            afterstyle()
                        }

                    }
                    //else condition for donebtn
                    else {
                        todop1.innerHTML = "You say Not done!!!!"
                        todop1.style.color = "red";
                        todoitem.classList.toggle("done");
                        donebtn.innerText = "Done";
                        todoitem.style.textDecoration = "none";
                        datesection.innerHTML = "";
                        datesection.innerHTML = "<b>LastDone:</b> " + d.getDate() + "-" + ('0' + (d.getMonth() + 1)).slice(-2) + "-" + ('0' + (d.getFullYear())).slice(-2);

                    }


                });
                //mobile responsive*********************************************
                window.addEventListener("resize", function () {
                    if (window.innerWidth <= 570) {





                    } else {


                    }
                });

                //proper arrangement of tags that created in js***
                todoitem.appendChild(todop);
                todoitem.appendChild(rightsection);
                rightsection.appendChild(donebtn);
                rightsection.appendChild(deleteButton);
                oneitem.appendChild(todoitem);
                oneitem.appendChild(todop1);

                todolist.appendChild(oneitem);
                oneitem.appendChild(datehead);
                datehead.appendChild(datesection1);
                datehead.appendChild(datesection3);
                datehead.appendChild(datesection);



                //css work in js*********
                rightsection.style.cssFloat = "right";
                datehead.style.display = "flex";
                datehead.style.justifyContent = "space-evenly";



                //important contents created in js*****
                inputtxt.value = "";
                targetdate.value = "";
                todop.innerHTML = text;
                datesection3.innerHTML = "<b>Target:</b>" + targetdate2;

                donebtn.innerText = "Done"
                donebtn.style.fontSize = "smaller"
                deleteButton.innerText = 'X';
                deleteButton.style.margin = '0px 0px 0px 15px';
                deleteButton.style.color = "red"
                datehead.style.backgroundColor = "rgb(219, 221, 222)"
                datehead.style.color = "blue"

                //working function of delete button**
                deleteButton.addEventListener('click', function () {
                    todolist.removeChild(oneitem);
                    todolist.removeChild(datehead);


                });
            }
            //what if the input box not contain the value**
            if (text === "") {
                inputtxt.classList.add("is-invalid");
            }

        })




    </script>

</body>

</html>